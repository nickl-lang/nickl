extern "c" puts

extern "pthread" pthread_create
extern "pthread" pthread_join

proc threadProc(:ptr %arg) :ptr {
    call puts, ("hello") -> :i32
    ret 0
}

pub proc _entry() {
    alloc :ptr -> %thread_addr
    call pthread_create, (:ptr %thread_addr, 0, threadProc, 0) -> :i32

    load %thread_addr -> :ptr %thread
    call pthread_join, (:ptr %thread, 0) -> :i32

    ret
}

/* @output
hello

@endoutput */
