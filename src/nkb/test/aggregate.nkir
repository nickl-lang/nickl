proc extern printf(: i64, ...): i32
proc extern sqrt(: f64): f64

// type Vec2 { [2]f64 }

proc Vec2_length(x: f64, y: f64): f64 {
@start
    tmp: f64
    len_squared: f64
    mul x, x -> len_squared
    mul y, y -> tmp
    add len_squared, tmp -> len_squared
    call sqrt, (len_squared) -> ret
    ret
}

proc main(argc: i32, argv: i64): i32 {
@start
    len: f64
    call Vec2_length, (1.2, 3.4) -> len
    call printf, ("%lf\n", len)
    mov  0 -> ret
    ret
}

/* @output
3.605551

@endoutput */
